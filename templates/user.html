{% extends "base_app.html" %}

{% block title %}{{ username }}{% endblock %}

{% block content %}


<header class="mb-5 d-flex align-items-center justify-content-between">
    <h1>@{{ username }}</h1>
    <div class="d-flex align-items-center gap-4">
        <button class="btn btn-sm btn-outline-secondary">
            Edytuj profil
        </button>

        <div class="d-flex flex-column align-items-center">
            <span class="small text-muted">
                Posty
            </span>
            <span>
                {{ posts_count }}
            </span>
        </div>
        <div class="d-flex flex-column align-items-center">
            <span class="small text-muted">
                Komentarze
            </span>
            <span>
                {{ comments_count }}
            </span>
        </div>
    </div>
</header>

<h2 class="mb-4 fs-4">Ostatni post</h2>
<section class="d-flex mx-auto gap-5">
    <div class="w-1/3 rounded-3 overflow-hidden mb-3">
        <img src="{{ latest_post['image'] }}" class="img-fluid object-fit-cover">
    </div>

    <div>
        <div class="text-muted flex-shrink-0">
            {{ latest_post['created_at'][:10] }}
        </div>
        <div>{{ latest_post['content'] | safe }}</div>
    </div>
</section>

<h2 class="mb-4 mt-5 fs-4">Zobacz wiÄ™cej</h2>
<div id="posts-container" class="row row-cols-3 g-2 mb-4" role="list">
    {% for post in other_posts %}
    <article class="position-relative col small article-profile-card" role="listitem">
        <a href="{{ url_for('show_post', id=post['id']) }}">
            <div class="w-100 rounded-3 overflow-hidden mb-3">
                <img src="{{ post['image'] }}" class="object-fit-cover">
            </div>
        </a>
    </article>
    {% endfor %}
</div>

<h2 class="mb-4 fs-4">Zapisane w bibliotece</h2>

{% endblock %}